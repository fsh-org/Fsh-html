<!DOCTYPE html>
<html lang="en" class="sl-theme-dark">
  <head>
    <title>Fsh HTML</title>
    <!-- Boiler plate------ -->
    <link rel="icon" href="https://fsh.plus/fsh.png" type="image/png">
    <meta name="description" content="Live html editor">
    <!-- ------- -->
    <link rel="stylesheet" href="/style.css">
    <script src="/script.js"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image" content="https://fsh.plus/fsh.png"/>
    <meta name="theme-color" content="#a89c9b">
    <!-- ------------------ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.13.1/cdn/themes/dark.css"/>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.13.1/cdn/shoelace.js"></script>
    <script src="https://unpkg.com/monaco-editor/min/vs/loader.js"></script>
  </head>
  <body>
    <dialog id="settings">
      <button class="close" onclick="this.parentElement.close()">x</button>
      <h1>Settings</h1>
      <label>Tab size:</label>
      <select onchange="window.monaco.editor.getEditors().forEach(t=>t.getModel().updateOptions({ tabSize: Number(this.value) }))">
        <option>2</option>
        <option>4</option>
        <option>8</option>
      </select>
   </dialog>
    <sl-split-panel position="50" style="height:100vh;--min:20%;--max:80%;--divider-width:10px;">
      <sl-icon slot="divider" name="grip-vertical"></sl-icon>
      <div style="position:relative" slot="start" style="overflow-y:auto">
        <button onclick="document.getElementById('settings').showModal()" style="position:absolute;top:0;right:0;padding:0;margin:0;width:20px;border-radius:0px;"><sl-icon name="gear"></sl-icon></button>
        <div><img src="assets/html.svg" style="height: 14px;margin: 0;padding: 0;"><p style="display:inline-block;">HTML</p></div>
        <div id="html"></div>
        <div><img src="assets/css.svg" style="height: 14px;margin: 0;padding: 0;"><p style="display:inline-block;">CSS</p></div>
        <div id="css"></div>
        <div><img src="assets/js.svg" style="height: 14px;margin: 0;padding: 0;"><p style="display:inline-block;">JS</p></div>
        <div id="js"></div>
        <script>
          require.config({ paths: { vs: 'https://unpkg.com/monaco-editor/min/vs' } });
          require(['vs/editor/editor.main'], function () {
            monaco.editor.create(document.getElementById('html'), {
              language: "html",
              scrollBeyondLastLine: true,
              readOnly: false,
              automaticLayout: true,
              minimap: {enabled: false},
              theme: "vs-dark"
            });
            monaco.editor.create(document.getElementById('css'), {
              language: "css",
              scrollBeyondLastLine: true,
              readOnly: false,
              automaticLayout: true,
              minimap: {enabled: false},
              theme: "vs-dark"
            });
            monaco.editor.create(document.getElementById('js'), {
              language: "javascript",
              scrollBeyondLastLine: true,
              readOnly: false,
              automaticLayout: true,
              minimap: {enabled: false},
              theme: "vs-dark"
            });
            window.monaco.editor.getEditors().forEach(t=>t.getModel().updateOptions({ tabSize: 2 }))
          });
      </script>
      </div>
      <div style="position:relative" slot="end" style="overflow-y:auto">
        <iframe id="render" title="Rendered content" style="background-color: #fff"></iframe>
      </div>
    </sl-split-panel>
  </body>
</html>
